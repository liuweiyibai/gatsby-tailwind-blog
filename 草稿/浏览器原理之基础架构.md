# 浏览器基础架构

浏览器的主要功能就是向服务器发出请求，在浏览器窗口中展示您选择的网络资源。这里所说的资源一般是指 HTML 文档，也可以是 PDF、图片或其他的类型。资源的位置由用户使用 URI（统一资源标示符）指定。

浏览器解释并显示 HTML 文件的方式是在 HTML 和 CSS 规范中指定的。这些规范由网络标准化组织 W3C（万维网联盟）进行维护。
多年以来，各浏览器都没有完全遵从这些规范，同时还在开发自己独有的扩展程序，这给网络开发人员带来了严重的兼容性问题。如今，大多数的浏览器都是或多或少地遵从规范。

## 浏览器主要组件

现代浏览器的架构包括：
![浏览器的主要组件](https://cdn.clearlywind.com/blog-images/images/浏览器的主要组件.png)

1. 用户界面 - The User Interface

   包括地址栏、前进/后退按钮、书签菜单等。除了浏览器主窗口显示的您请求的页面外，其他显示的各个部分都属于用户界面。

   主要提供用户与 Browser Engine 交互的方法，浏览器除了渲染请求页面的窗口外的所有地方都属于 The User Interface。

2. 浏览器引擎 - The Browser Engine

   在用户界面和呈现引擎之间传送指令。协调（主控）UI 和 the Rendering Engine，在它们之间传输指令。 提供对 The Rendering Engine 的高级接口，一方面它提供初始化加载 Url 和其他高级的浏览器动作（如刷新、向前、退后等）方法。另一方面 Browser Engine 也为 User Interface 提供各种与错误、加载进度相关的消息。

3. 呈现引擎 - The Rendering Engine

   负责显示请求的内容，为给定的 URL 提供可视化的展示。如果请求的内容是 HTML，它就负责解析 HTML 和 CSS；以及 JavaScript、XML 内容，并将解析后的内容显示在屏幕上。并且 User Interface 中展示的 Layout。其中关键的组件是 HTML 解析器，它可以让 Rendering Engine 展示差乱的 HTML 页面。 值得注意：不同的浏览器使用不同的 Rendering Engine。例如 IE 使用 Trident，Firefox 使用 Gecko，Safai 使用 Webkit。Chrome 和 Opera 使用 Webkit（以前是 Blink）

4. 网络 - The Networking

   用于网络调用，比如 HTTP 请求。其接口与平台无关，并为所有平台提供底层实现。
   用户界面后端 - 用于绘制基本的窗口小部件，比如组合框和窗口。其公开了与平台无关的通用接口，而在底层使用操作系统的用户界面方法。

5. JavaScript 解释器。用于解析和执行 JavaScript 代码。
6. 数据存储。这是持久层。浏览器需要在硬盘上保存各种数据，例如 Cookie。新的 HTML 规范 (HTML5) 定义了“网络数据库”，这是一个完整（但是轻便）的浏览器内数据库。

https://segmentfault.com/a/1190000018277184
